<!--
Nowheresville Rapid Transit Management
David Elmer and Chenliang Wang

trains.hbs written by Chenliang Wang
-->

<div class='content'>
    <h1>Add or Update Trains</h1>
    <fieldset>
        <h1>Add a new train</h1>
        <form id='add_train'>
            <label for='train_car'>Number of cars </label>
            <input type='number' name='train_car' id='train_car'><br>

            <label for='capacity'>Capacity per car </label>
            <input type='number' name='capacity' id='capacity'><br>

            <label for='route_id'>Route </label>
            <select name='route_id' id='route_id'>
                <option value=''>Select Route</option>
                {{#each routes}}
                <option value="{{this.route_id}}">{{this.name}}</option>
                {{/each}}
            </select><br>

            <label for='yard_id'>Yard </label>
            <select id='yard_id'>
                <option value=''>Select Yard</option>
                {{#each yards}}
                <option value="{{this.yard_id}}">{{this.name}}</option>
                {{/each}}
            </select><br>

            <button id='trains_insert' type='submit'>Submit</button>
        </form>
    </fieldset>
    <fieldset>
        <h1>Trains</h1>
        <table id='train_table'>
            <thead>
                <tr>
                    {{#each data.[0]}}
                    <th>
                        {{@key}}
                    </th>
                    {{/each}}
                </tr>
            </thead>
            <tbody>
                {{#each data}}
                <tr>
                    <td>{{this.train_id}}</td>
                    <td>{{this.car}}</td>
                    <td>{{this.car_capacity}}</td>
                    <td>{{this.route}}</td>
                    <td>{{this.yard}}</td>
                    <td><a href='/update_train/{{this.train_id}}'><button id='update_train' type='submit'>Update</button></a></td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </fieldset>
</div>
<script src='/js/train_add.js'></script>
